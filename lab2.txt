Глава 4
cp — копирует файлы и каталоги;
mv — перемещает/переименовывает файлы и каталоги;
mkdir — создает каталоги;
rm — удаляет файлы и каталоги;
ln — создает жесткие и символические ссылки
cp -u *.html destination(копирует файлы html)
* Любая последовательность любых символов
? Любой один символ
[символы] Любой один символ из указанного множества символов
[!символы] Любой один символ, не принадлежащий указанному множеству
символов
[[:класс:]] Любой один символ, принадлежащий указанному классу
[:alnum:] Любой алфавитно-цифровой символ
[:alpha:] Любой алфавитный символ
[:digit:] Любой цифровой символ
[:lower:] Любая буква в нижнем регистре
[:upper:] Любая буква в верхнем регистре
 Все имена файлов
g* Все имена файлов, начинающиеся с символа «g»
b*.txt Все имена файлов, начинающиеся с символа «b», за которым следует любое число других символов, и заканчивающиеся на «.txt»
Data??? Все имена файлов, начинающиеся с символов «Data»,
за которыми следуют ровно три любых символа
[abc]* Все имена файлов, начинающиеся с символа «a», «b»
или «c»
BACKUP.[0-9][0-9][0-9] Все имена файлов, начинающиеся с символов «BACKUP.»,
за которыми следуют ровно три цифровых символа
[[:upper:]]* Все имена файлов, начинающиеся с буквы в верхнем
регистре
[![:digit:]]* Все имена файлов, не начинающиеся с цифры
*[[:lower:]123] Все имена файлов, заканчивающиеся буквой в нижнем
регистре или цифрой «1», «2» или «3»
Команда mkdir используется для создания каталогов. Вызывается она следующим
образом:
mkdir каталог
говорят о том, что аргументов может
быть несколько; то есть в данном случае команда
mkdir dir1
cp — копирование файлов и каталогов
Команда cp копирует файлы и каталоги. Ее можно использовать двумя разными
способами:
cp item1 item2
cp — копирование файлов и каталогов
Команда cp копирует файлы и каталоги. Ее можно использовать двумя разными
способами:
cp item1 item2
-a, --archive Скопировать файлы и каталоги со всеми атрибутами, включая идентификаторы владельцев и права доступа. Без этого
параметра копии обычно получают значения атрибутов по
умолчанию, определенных для пользователя, выполняющего
копирование. Подробнее об атрибутах файлов рассказывается в главе 9
-i, --interactive Запрашивать у пользователя подтверждение перед перезаписью существующего файла. Если этот параметр отсутствует, команда cp просто перезапишет существующие файлы (без предупреждения)
-r, --recursive Рекурсивно копировать каталоги и их содержимое. Это
обязательный параметр (или параметр -a) при копировании
каталогов
-u, --update При копировании файлов из одного каталога в другой копировать только файлы, отсутствующие в каталоге назначения
или более новые. Этот параметр удобно использовать при
копировании большого числа файлов, так как он позволяет
пропустить файлы, которые не требуется копировать
-v, --verbose
cp file1 file2 Скопирует file1 в file2. Если file2 существует, он будет затерт
новым файлом file1. Если file2 отсутствует, он будет создан
cp -i file1 file2 То же, что и выше, но если файл file2 существует, у пользователя будет запрошено подтверждение перед перезаписью
файла
cp file1 file2 dir1 Скопирует file1 и file2 в каталог dir1. Каталог dir1 должен
существовать
cp dir1/* dir2 С использованием группового символа. Скопирует все файлы
из каталога dir1 в каталог dir2. Каталог dir2 должен существовать
cp -r dir1 dir2 Скопирует содержимое каталога dir1 в каталог dir2. Если
каталог dir2 не существует, он будет создан и заполнен
содержимым каталога dir1. Если каталог dir2 существует,
тогда в него будет скопирован сам каталог dir1 (вместе с его
содержимым)
-i, --interactive Запрашивать у пользователя подтверждение перед перезаписью существующего файла. Если этот параметр отсутствует,
команда mv просто перезапишет существующие файлы
-u, --update При перемещении файлов из одного каталога в другой перемещать только файлы, отсутствующие в каталоге назначения или
более новые
-v, --verbose Выводить информационные сообщения в процессе перемещения
mv file1 file2 Переместит file1 в file2. Если file2 существует, он будет заменен на новый файл file1. Если file2 отсутствует, он будет создан.
В любом случае файл file1 исчезнет
mv -i file1 file2 То же, что и выше, но если файл file2 существует, у пользователя
будет запрошено подтверждение перед перезаписью файла
mv file1 file2 dir1 Переместит file1 и file2 в каталог dir1. Каталог dir1 должен существовать
mv dir1 dir2 Если каталог dir2 отсутствует, команда mv создаст его и переместит
содержимое каталога dir1 в каталог dir2, после чего удалит dir1.
Если каталог dir2 существует, команда mv переместит каталог dir1
(вместе с его содержимым) в каталог dir2
-i, --interactive Запрашивать у пользователя подтверждение перед удалением
существующего файла. Если этот параметр отсутствует,
команда rm просто удалит существующие файлы
-r, --recursive Рекурсивно удалить каталоги. То есть вместе с каталогом будут
удалены все его подкаталоги. Это обязательный параметр при
удалении каталогов
-f, --force Игнорировать отсутствующие файлы и не запрашивать подтверждения. Этот параметр отменяет действие параметра
--interactive
-v, --verbose Выводить информационные сообщения в процессе удаления
rm file1 Просто удалит файл file1
rm -i file1 Перед удалением file1 запросит подтверждение у пользователя
rm -r file1 dir1 Удалит файл file1 и каталог dir1 со всем его содержимым
rm -rf file1 dir1 То же, что и выше, но в отсутствие file1 и/или dir1 просто продолжит работу, не выводя никаких сообщений
Далее мы немного почистим нашу песочницу. Сначала удалите
одну из жестких ссылок rm fun-hard
